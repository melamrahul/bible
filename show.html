
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uploaded Images</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.0.10/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Google+Sans&display=swap">
    <style>
        /* Disable right-click context menu */
        body {
            font-family: 'Google Sans', sans-serif;
            -webkit-touch-callout: none; /* Disable long press on mobile */
            -webkit-user-select: none; /* Disable selection */
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        .watermark-container {
            position: relative;
            display: inline-block;
        }

        a {
    cursor: pointer;
}

       .watermark {
    position: absolute;
    transform: rotate(45deg); /* Rotate the watermark */
    top: 30%; /* Adjust the position vertically */
    left: 20%; /* Adjust the position horizontally */
    color: rgba(255, 255, 255, 0.8); /* Adjust the color and opacity */
    font-family: 'Google Sans', sans-serif; /* Specify font family */
    font-size: 16px; /* Adjust the font size */
    font-weight: bold; /* Make the text bold */
    padding: 8px; /* Add padding around the text */
    border-radius: 4px; /* Add border radius */
    z-index: 999; /* Ensure the watermark appears on top */
    transform-origin: center; /* Set the origin of rotation */
}
    </style>
</head>

<body class="bg-gray-100">
    <div class="container mx-auto mt-5">
        <h2 class="text-xl font-bold mb-3" style = "font-weight: bold;">Uploaded Images</h2><br>
        <h3 class="text-xl font-bold mb-3"style = "color: #fc4454">Don't worry about your images. they are protected safely.</h3>
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Roll Number</th>
                        <th>Image</th>
                    </tr>
                </thead>
                <tbody>
                    <?php
                    $host = "sql.freedb.tech";
                    $user = "freedb_rahuk";
                    $pass = "Dcqg3NFxbM!pg3u";
                    $dbname = "freedb_database1";

                    $conn = new mysqli($host, $user, $pass, $dbname);

                    if ($conn->connect_error) {
                        die("Connection failed: " . $conn->connect_error);
                    }

                    $sql = "SELECT roll_number, image FROM images ORDER BY RIGHT(roll_number, 2)";
                    $result = $conn->query($sql);

                    if ($result->num_rows > 0) {
                        while ($row = $result->fetch_assoc()) {
                           echo "<tr>";
                            echo "<td>" . $row["roll_number"] . "</td>";
                            // Add watermark overlay to the image
                            echo '<td class="watermark-container">';
                            echo '<div class="watermark">Image Protected by Admin</div>';
                            echo '<img src="data:image/jpeg;base64,' . base64_encode($row["image"]) . '" width="100" />';
                            echo '</td>';
                            echo "</tr>";
                        }
                    } else {
                        echo "<tr><td colspan='2'>No images found.</td></tr>";
                    }

                    $conn->close();
                    ?>
                </tbody>
            </table>
        </div>
        <footer style="bottom: 30px; width: 100%; background-color: #fff; color: #333; text-align: center; padding: 10px 0;font-family: 'Google Sans', sans-serif;">
        <p style="margin: 0; font-family: 'Google Sans', sans-serif; font-size: 18px;">Â© Designed by <a href="https://t.ly/irfrc" style="text-decoration: none;">Melam Rahul</a></p>
    </footer>
    </div>
    <script src='https://cdn.jsdelivr.net/npm/disable-devtool'></script>
    <script>
    DisableDevtool({
        ondevtoolopen: (type) => {
            const info = 'devtool opened!; type =' + type;
            // Reload the current page
            window.location.reload();
            window.location.href = "https://google.com";
            alert("You can't see the Source Code"); // If you are worried about blocking the page, use console.warn(info); and open the console to view
            
        },
    })
</script>
</body>
<script>
    // Disable right-click context menu
    document.oncontextmenu = function() {
        return false;
    };

    // Disable certain key combinations
    document.onkeydown = function(e) {
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) {
            return false;
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) {
            return false;
        }
        if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) {
            return false;
        }
    };
</script>
</html>
